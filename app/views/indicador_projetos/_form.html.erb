<%= form_for(@indicador_projeto) do |f| %>

	<%= render partial: 'padrao_cadastros/erros', locals:{registro: @indicador_projeto} %>
	
	<div class="field">
    <%= f.label :projeto %><br />
	<%= f.select(:projeto_id, Projeto.all.map{|p| [p.nome, p.id]}) %>  
  </div>
  <div class="field">
    <%= f.label :indicador %><br />
	<%= f.select(:indicador_id, Indicador.all.map{|p| [p.nome, p.id]}, {}, :onChange => "ColocaMascara(this);") %> 
  </div>
	<div class="field" style="float:left; margin-right:20px; display:none">
		<%= f.select(:indicador_id, Indicador.all.map{|p| [p.tipo, p.id]}, {}, :id=>"select_aux") %>
	</div>
  <div class="field">
    <%= f.label :valor %><br />
    <%= f.text_field :valor %>
  </div>

	<br/>
  <div class="actions">
    <%= f.submit 'Salvar' %>
  </div>
<% end %>

<script type="text/javascript" charset="utf-8">
	function ColocaMascara(valor){
		$("#select_aux").val(valor.value);
		if ($("#select_aux").children(":selected").html() == "data") {
			$("#indicador_projeto_valor").mask('99/99/9999');
		}else{
			$("#indicador_projeto_valor").unmask();
		}		
	}		
</script>